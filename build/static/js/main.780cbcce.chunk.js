(this["webpackJsonp@vgaidadei/imager"]=this["webpackJsonp@vgaidadei/imager"]||[]).push([[0],{11:function(t,e,i){},13:function(t,e,i){"use strict";i.r(e);i(3);var r=i(5),n=i.n(r),a=i(1),o=i.n(a),s=i(2),c=(i(11),i(0)),l="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,u=function(t){var e=parseInt(t["z-index"]);return Object(c.jsxs)("div",{id:"imagerDisplayId",className:"imagerDisplay",style:{zIndex:e},dis:"false",children:[Object(c.jsx)("div",{className:"imagerBackground",onMouseDown:E,onMouseUp:q}),Object(c.jsx)("div",{className:"imagerList"})]})},d=function(t){var e=t.images?t.images:[];return e.unshift(t.src),Object(c.jsx)("img",{src:t.src,alt:t.alt,width:t.width,height:t.height,images:e,onClick:m})},m=function(t){var e=t.target,i=e.getAttribute("images").split(","),r=e.getBoundingClientRect();v(i,0),A(!0,[r.left+r.width/2,r.top+r.height/2],[r.width,r.height])},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e,i){setTimeout((function(){e()}),t)}))},p=function(t){return new Promise((function(e,i){t.addEventListener("load",(function(){return e()}))}))},y=function(t,e,i){return new Promise((function r(n,a){getComputedStyle(t)[e]!==i?setTimeout((function(){return r(n,a)}),10):n()}))};function f(t,e,i){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(o.a.mark((function t(e,i,r){var n,a,s,c,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=document.createElement("div")).setAttribute("class","imagerWrapImg"),n.onmousedown=function(t){L(t)},n.onmouseup=function(t){S(t)},n.ondblclick=function(t){C(t)},n.setAttribute("idimg",i),n.setAttribute("side",r),n.style.width="100px",n.style.height="100px",n.style.borderRadius="50px",(a=document.createElement("div")).setAttribute("class","imagerLoader"),n.appendChild(a),(s=document.createElement("img")).setAttribute("src",e),s.setAttribute("class","imagerImage"),s.setAttribute("draggable","false"),n.appendChild(s),document.getElementById("imagerDisplayId").querySelector(".imagerList").appendChild(n),s.style.display="none",a.style.display="flex",t.next=23,p(s);case 23:c=[s.naturalWidth,s.naturalHeight],l=[window.innerWidth,window.innerHeight],u=c[0]/c[1],c[0]>=c[1]?c[0]>.8*l[0]&&(c[0]=.8*l[0],c[1]=c[0]/u):c[0]<c[1]&&c[1]>.8*l[1]&&(c[1]=.8*l[1],c[0]=c[1]*u),n.style.width=c[0]+"px",n.style.height=c[1]+"px",n.style.borderRadius="0px",s.style.display="flex",a.style.display="none",n.style.backgroundColor="unset";case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(o.a.mark((function t(e,i){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in e)n="",r<i?n="left":r==i?n="center":r>i&&(n="right"),f(e[r],r,n);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(o.a.mark((function t(){var e,i,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.getElementById("imagerDisplayId"),i=e.querySelector(".imagerBackground"),r=e.querySelector(".imagerList"),(n=e.querySelector(".imagerList .imagerWrapImg[side='center']")).style.opacity="0",i.style.opacity="0",n.style.marginTop="-300px",t.next=9,y(i,"opacity","0");case 9:e.style.display="none",r.innerHTML="";case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e,i){return I.apply(this,arguments)}function I(){return(I=Object(s.a)(o.a.mark((function t(e,i,r){var n,a,s,c,l,u,d,m,p,f,h,v;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById("imagerDisplayId"),a=n.querySelector(".imagerBackground"),s=n.querySelector(".imagerList"),e&&n.setAttribute("coord","".concat(i[0],",").concat(i[1])),c=n.querySelector(".imagerList .imagerWrapImg[side='center']"),r=void 0===r?[0,0]:r,e&&0!=r[0]&&n.setAttribute("originSize","".concat(r[0],",").concat(r[1])),!e&&n.getAttribute("originSize")&&"0"==c.getAttribute("idimg"))for(l in r=n.getAttribute("originSize").split(","))r[l]=parseInt(r[l]);if(e?document.addEventListener("touchmove",W,{passive:!1}):document.removeEventListener("touchmove",W),n.setAttribute("dis","true"),!e){t.next=42;break}return document.body.style.overflow="hidden",u=getComputedStyle(c).transitionDuration,n.style.display="flex",c.style.display="none",c.style.transitionDuration="0s",t.next=18,g(50);case 18:return c.style.width=r[0]+"px",c.style.height=r[1]+"px",c.style.marginLeft="".concat(2*(i[0]-window.innerWidth/2),"px"),c.style.marginTop="".concat(2*(i[1]-window.innerHeight/2),"px"),t.next=24,g(50);case 24:return a.style.opacity="1",c.style.display="flex",c.style.transitionDuration=u,t.next=29,g(50);case 29:return d=c.querySelector(".imagerImage"),m=[],d.naturalWidth?(m=[d.naturalWidth,d.naturalHeight],p=[window.innerWidth,window.innerHeight],f=m[0]/m[1],m[0]>=m[1]?m[0]>.8*p[0]&&(m[0]=.8*p[0],m[1]=m[0]/f):m[0]<m[1]&&m[1]>.8*p[1]&&(m[1]=.8*p[1],m[0]=m[1]*f)):(m[0]=100,m[1]=100),c.style.width="".concat(m[0],"px"),c.style.height="".concat(m[1],"px"),c.style.marginLeft="0px",c.style.marginTop="0px",t.next=38,y(c,"marginLeft","0px");case 38:c.style.removeProperty("margin-left"),c.style.removeProperty("margin-top"),t.next=55;break;case 42:for(v in h=n.getAttribute("coord").split(","))h[v]=parseFloat(h[v]);return c.style.transform="matrix(1, 0, 0, 1, 0, 0)",c.style.width=r[0]+"px",c.style.height=r[1]+"px",c.style.marginLeft="".concat(2*(h[0]-window.innerWidth/2),"px"),c.style.marginTop="".concat(2*(h[1]-window.innerHeight/2),"px"),a.style.opacity="0",t.next=52,y(c,"width",r[0]+"px");case 52:n.style.display="none",s.innerHTML="",document.body.style.overflow="auto";case 55:n.setAttribute("dis","false");case 56:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){var e=t.target.parentNode,i=getComputedStyle(e).transform.slice(7,-1).split(", ");for(var r in i)i[r]=parseFloat(i[r]);e.setAttribute("start","".concat(t.clientX,",").concat(t.clientY)),e.setAttribute("translate","".concat(i[4],",").concat(i[5])),window.addEventListener("mousemove",j)}function S(t){var e=t.target.parentNode;if(e&&e.tagName&&"imagerWrapImg"===e.getAttribute("class")){var i=getComputedStyle(e).transform.slice(7,-1).split(", ");for(var r in i)i[r]=parseFloat(i[r]);1!=i[0]&&1!=i[3]||(e.style.transform="matrix(1, 0, 0, 1, 0, 0)"),window.removeEventListener("mousemove",j)}}function j(t,e){var i=t.target.parentNode;if(i&&i.tagName&&"imagerWrapImg"===i.getAttribute("class")){var r=getComputedStyle(i),n=r.transform.slice(7,-1).split(", ");for(var a in n)n[a]=parseFloat(n[a]);var o=i.getAttribute("translate").split(",");for(var s in o)o[s]=parseFloat(o[s]);var c=i.getAttribute("start").split(",");for(var l in c)c[l]=parseFloat(c[l]);n[4]=o[0]+t.clientX-c[0],n[5]=o[1]+t.clientY-c[1];var u=[window.innerWidth/2+n[0]*parseFloat(r.width.slice(0,-2))/2-500,window.innerHeight/2+n[3]*parseFloat(r.height.slice(0,-2))/2-500];n[4]=n[4]>u[0]?u[0]:n[4],n[4]=n[4]<-u[0]?-u[0]:n[4],n[5]=n[5]>u[1]?u[1]:n[5],n[5]=n[5]<-u[1]?-u[1]:n[5],i.style.transform="matrix(".concat(n.join(", "),")")}}window.addEventListener("keydown",(function(t){var e=document.getElementById("imagerDisplayId");if("none"!=getComputedStyle(e).display&&"true"!=e.getAttribute("dis")){var i=e.querySelector(".imagerList .imagerWrapImg[side='center']"),r=parseInt(i.getAttribute("idimg"));if("ArrowLeft"===t.code){if(r>0){var n=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(r-1,"']"));i.style.transform="matrix(1, 0, 0, 1, 0, 0)",i.setAttribute("side","right"),n.setAttribute("side","center")}}else if("ArrowRight"===t.code){if(r<e.querySelectorAll(".imagerList .imagerWrapImg").length-1){var a=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(r+1,"']"));i.style.transform="matrix(1, 0, 0, 1, 0, 0)",i.setAttribute("side","left"),a.setAttribute("side","center")}}}})),window.addEventListener("wheel",(function(t){var e=document.getElementById("imagerDisplayId");if("none"!=getComputedStyle(e).display&&"true"!=e.getAttribute("dis")){var i=e.querySelector(".imagerList .imagerWrapImg[side='center']"),r=getComputedStyle(i).transform.slice(7,-1).split(", ");for(var n in r)r[n]=parseFloat(r[n]);var a=t.deltaY<=0?"+":"-";"+"===a?(r[0]+=1,r[3]+=1):"-"===a&&(r[0]-=1,r[3]-=1,r[4]=0,r[5]=0,i.transform="matrix(".concat(r.join(", "),")")),r[0]=r[0]<1?1:r[0],r[3]=r[3]<1?1:r[3],r[0]=r[0]>10?10:r[0],r[3]=r[3]>10?10:r[3],i.style.transform="matrix(".concat(r.join(", "),")")}}));var W=function(t){t.touches.length>1&&t.preventDefault()};function E(t){l||t.target.setAttribute("hide","true")}function q(t){t&&t.target&&t.target.tagName&&"imagerBackground"==t.target.getAttribute("class")&&"true"==t.target.getAttribute("hide")&&(A(!1),t.target.removeAttribute("hide"))}function C(t){var e=t.target.parentNode;if(e&&e.tagName&&"imagerWrapImg"===e.getAttribute("class")&&!l){var i=getComputedStyle(e).transform.slice(7,-1).split(", ");for(var r in i)i[r]=parseFloat(i[r]);1==i[0]?(i[0]=3,i[3]=3):(i[0]=1,i[3]=1),i[4]=0,i[5]=0,e.style.transform="matrix(".concat(i.join(", "),")")}}var D=function(t,e){return Math.pow(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2),.5)};window.addEventListener("touchstart",(function(t){if(1==t.touches.length){var e=document.getElementById("imagerDisplayId"),i=e.querySelector(".imagerList .imagerWrapImg[side='center']");if("true"===e.getAttribute("dblTouch")){var r=getComputedStyle(i).transform.slice(7,-1).split(", ");for(var n in r)r[n]=parseFloat(r[n]);1==r[0]?(r[0]=3,r[3]=3,r[4]=0,r[5]=0):(r[0]=1,r[3]=1,r[4]=0,r[5]=0),i.style.transform="matrix(".concat(r.join(", "),")")}e.setAttribute("dblTouch","true"),setTimeout((function(){return e.removeAttribute("dblTouch")}),200)}})),window.addEventListener("touchstart",(function(t){if(2==t.touches.length){var e=document.getElementById("imagerDisplayId"),i=e.querySelector(".imagerList .imagerWrapImg[side='center']");e.setAttribute("arrange",D([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]));var r=getComputedStyle(i).transform.slice(7,-1).split(", ");for(var n in r)r[n]=parseFloat(r[n]);e.setAttribute("zoom","".concat(r[0],",").concat(r[3]))}})),window.addEventListener("touchend",(function(t){if(2==t.touches.length){var e=document.getElementById("imagerDisplayId").querySelector(".imagerList .imagerWrapImg[side='center']"),i=getComputedStyle(e),r=i.transform.slice(7,-1).split(", ");for(var n in r)r[n]=parseFloat(r[n]);1==r[0]&&(e.style.transform="matrix(1, 0, 0, 1, 0, 0)");var a=[window.innerWidth/2+r[0]*parseFloat(i.width.slice(0,-2))/2-200,window.innerHeight/2+r[3]*parseFloat(i.height.slice(0,-2))/2-200];r[4]=r[4]>a[0]?a[0]:r[4],r[4]=r[4]<-a[0]?-a[0]:r[4],r[5]=r[5]>a[1]?a[1]:r[5],r[5]=r[5]<-a[1]?-a[1]:r[5]}})),window.addEventListener("touchmove",(function(t){if(2==t.touches.length){var e=document.getElementById("imagerDisplayId"),i=e.querySelector(".imagerList .imagerWrapImg[side='center']");if(i){var r=parseFloat(e.getAttribute("arrange"));if(r){var n=e.getAttribute("zoom").split(",");for(var a in n)n[a]=parseFloat(n[a]);var o=(D([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY])-r)/250,s=getComputedStyle(i).transform.slice(7,-1).split(", ");for(var c in s)s[c]=parseFloat(s[c]);s[0]=n[0]+o,s[3]=n[1]+o,s[0]=s[0]<1?1:s[0],s[3]=s[3]<1?1:s[3],i.style.transform="matrix(".concat(s.join(", "),")")}}}})),window.addEventListener("touchstart",(function(t){if(!(t.touches.length>1)){var e=document.getElementById("imagerDisplayId"),i=e.querySelector(".imagerList .imagerWrapImg[side='center']");if(i){var r=parseInt(i.getAttribute("idimg")),n=getComputedStyle(i).transform.slice(7,-1).split(", ");for(var a in n)n[a]=parseFloat(n[a]);e.setAttribute("touchCoord","".concat(t.touches[0].clientX)),e.setAttribute("touchStart","".concat(t.touches[0].clientX,",").concat(t.touches[0].clientY)),e.setAttribute("translate","".concat(n[4],",").concat(n[5])),e.setAttribute("transition","".concat(i.style.transitionDuration)),e.setAttribute("speed","true"),setTimeout((function(){e.removeAttribute("speed")}),200);var o=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(r-1,"']")),s=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(r+1,"']"));i.style.transitionDuration="0s",o&&(o.style.transitionDuration="0s"),s&&(s.style.transitionDuration="0s")}}})),window.addEventListener("touchend",(function(t){var e=document.getElementById("imagerDisplayId");e.removeAttribute("touchCoord");var i=e.querySelector(".imagerList .imagerWrapImg[side='center']"),r=e.querySelectorAll(".imagerList .imagerWrapImg").length;if(i){var n=parseInt(i.getAttribute("idimg")),a=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(n-1,"']")),o=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(n+1,"']")),s=e.getAttribute("transition");i.style.transitionDuration=s,a&&(a.style.transitionDuration=s),o&&(o.style.transitionDuration=s),i.style.removeProperty("margin-left"),a&&a.style.removeProperty("margin-left"),o&&o.style.removeProperty("margin-left");var c=getComputedStyle(i),l=c.transform.slice(7,-1).split(", ");for(var u in l)l[u]=parseFloat(l[u]);var d=parseFloat(c.marginLeft);if(d/2>=window.innerWidth/2*.8&&n>0)i.setAttribute("side","right"),a.setAttribute("side","center");else if(d/2<=-window.innerWidth/2*.8&&n<r-1)i.setAttribute("side","left"),o.setAttribute("side","center");else{if(l[5]<-150&&1==l[0]&&0==d)return void b();if("true"===e.getAttribute("speed")){if(d<0&&n<r-1)i.setAttribute("side","left"),o.setAttribute("side","center");else if(d>0&&n>0)i.setAttribute("side","right"),a.setAttribute("side","center");else if(l[5]<0&&1==l[0])return void b()}else 1==l[0]&&(i.style.transform="matrix(1, 0, 0, 1, 0, 0)")}i.style.opacity="1"}})),window.addEventListener("touchmove",(function(t){if(!(t.touches.length>1)){var e=document.getElementById("imagerDisplayId"),i=parseFloat(e.getAttribute("touchCoord")),r=e.querySelector(".imagerList .imagerWrapImg[side='center']");if(r){var n=parseInt(r.getAttribute("idimg")),a=e.getAttribute("translate").split(",");for(var o in a)a[o]=parseFloat(a[o]);var s=e.getAttribute("touchStart").split(",");for(var c in s)s[c]=parseFloat(s[c]);var l=getComputedStyle(r),u=l.transform.slice(7,-1).split(", ");for(var d in u)u[d]=parseFloat(u[d]);if(u[0]>1){u[4]=a[0]+t.touches[0].clientX-s[0],u[5]=a[1]+t.touches[0].clientY-s[1];var m=[window.innerWidth/2+u[0]*parseFloat(l.width.slice(0,-2))/2-200,window.innerHeight/2+u[3]*parseFloat(l.height.slice(0,-2))/2-200];return u[4]=u[4]>m[0]?m[0]:u[4],u[4]=u[4]<-m[0]?-m[0]:u[4],u[5]=u[5]>m[1]?m[1]:u[5],u[5]=u[5]<-m[1]?-m[1]:u[5],void(r.style.transform="matrix(".concat(u.join(", "),")"))}var g=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(n-1,"']")),p=e.querySelector(".imagerList .imagerWrapImg[idimg='".concat(n+1,"']"));if(t.touches[0].clientY-s[1]<0&&Math.abs(t.touches[0].clientX-i)<30){u[5]=t.touches[0].clientY-s[1],r.style.transform="matrix(".concat(u.join(", "),")");var y=(t.touches[0].clientY-s[1]+300)/300;y=y<0?0:y,r.style.opacity="".concat(y)}else t.touches[0].clientY-s[1]<50&&Math.abs(t.touches[0].clientX-i)>0&&(r.style.marginLeft="".concat(2*(t.touches[0].clientX-i),"px"),g&&(g.style.marginLeft="".concat(2*(t.touches[0].clientX-i-window.innerWidth),"px")),p&&(p.style.marginLeft="".concat(2*(t.touches[0].clientX-i+window.innerWidth),"px")),r.style.transform="matrix(1, 0, 0, 1, 0, 0)")}}}));var F=["imgs/2.jpg","imgs/3.png","imgs/4.png","imgs/5.jpg"];n.a.render(Object(c.jsxs)("div",{children:[Object(c.jsx)(u,{"z-index":"2000"}),Object(c.jsx)("p",{children:"signle image, click on it to zoom"}),Object(c.jsx)(d,{width:"200px",src:"imgs/5.jpg",alt:"ahah"}),Object(c.jsx)("p",{children:"image gallery, click on it and slide right"}),Object(c.jsx)(d,{width:"200px",src:"imgs/1.jpg",alt:"ahah",images:F}),Object(c.jsx)("p",{children:"also you can bind to open image gallery to any DOM object (for example div below)"}),Object(c.jsx)("div",{style:{backgroundColor:"#000",color:"#fff",width:"200px",padding:"20px"},onClick:function(t){return function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;v(e,i=(i=i<0?0:i)>e.length-1?e.length-1:i),A(!0,[t.clientX,t.clientY])}(t,F,0)},children:"click on me"})]}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.780cbcce.chunk.js.map